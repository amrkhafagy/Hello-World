<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <!-- Font Awesome JS -->
    <script class="lazy" data-src="https://kit.fontawesome.com/0000000000.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="stelySheet/signup.css">


    <title> User Registration form </title>
</head>
<body>
  <!-- main -->
 
  <div class="main-w3layouts wrapper">
    <h1>User Sign Up Screen</h1>
    <div class="main-agileinfo">
      <div class="agileits-top">
        <form class="form" id="signupform" action="/register" method="post">


          <input class="text" type="text" id="Username" name="Username" placeholder="Username" required="">


          <input class="text email" type="email" id="email" name="email" placeholder="Email" required="">


          <input class="text" id="password1" type="password" name="password" placeholder="Password" required="">


          <input class="text w3lpass" id="password2" type="password" name="password" placeholder="Confirm Password" required="">


          <div class="wthree-text">
            <label class="anim">
              <input type="checkbox" class="checkbox" required="">
              <span>I Agree To The Terms & Conditions</span>
            </label>

            <div class="clear"> </div>
          </div>
          <input type="submit" value="SIGNUP" a>
        </form>


        <p>Sign in here <a href="login.html"> Login Now!</a></p>

      </div>
    </div>
   
  <!-- //main end -->
  
<!--script -->
  
  <script>
    const form= document.getElementById('signupform')
    form .addEventListener('submit',function(e){
      e.preventDefault()

      const name= document.getElementById('Username').value
      const email= document.getElementById('email').value
      const password1= document.getElementById('password1').value;
      const password2= document.getElementById('password2').value;
      if(password1 == password2){


        alert("login succesfully")
        window.location.replace('login.html');

        
      }
      else{
  
           alert("password doesn't match try again");
          }
      
    

      fetch('http://localhost:8080/Api/v1/user/signin',{
        method: 'post',
        body: JSON.stringify({
          name,
          email,
          password: password1
          
        }),
        headers: {
    'Content-type': 'application/json; charset=UTF-8',
  }
})
.then(response => response.json())
.then(customer => {
       

          console.log("post data",customer);

         


     function resetData () {
       document.getElementById('Username').value = ''
       document.getElementById('password1').value = ''
       document.getElementById('password2').value = ''
       document.getElementById('email').value = ''




        }
        resetData();


      })
      

    });
  

  </script>


<!--script -->

  

  
    
    
</body>
</html>